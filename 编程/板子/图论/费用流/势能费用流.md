```cpp
#include<iostream>
#include<cstring>
#include<queue>
#include<vector>
#include<fstream>
using namespace std;
#define int long long
int n,m,S,T;
const int inf=1e12+7;
const int N=5e4+10;
const int M=1e6+10;
int q[N],e[M],ne[M],idx,v[M],w[M];
void add(int a,int b,int c,int d){
    e[idx]=b;w[idx]=c;v[idx]=d;ne[idx]=q[a];q[a]=idx++;
    e[idx]=a;w[idx]=0;v[idx]=-d;ne[idx]=q[b];q[b]=idx++;
}
int h[N];
typedef pair<int,int> pii;
int flow,fee;
int info[N];
int pre[N],dist[N];
int vis[N];
void spfa(){
    queue<int> que;
    for(int i=1;i<=n;i++){
        h[i]=inf;
    }
    for(int i=1;i<=n;i++){
        que.push(i);
        vis[i]=1;
    }
    while(que.size()){
        int to=que.front();que.pop();
        vis[to]=0;
        for(int i=q[to];i!=-1;i=ne[i]){
            if(!w[i]) continue;
            int j=e[i];
            if(h[j]>h[to]+v[i]){
                h[j]=h[to]+v[i];
                if(!vis[j]){
                    que.push(j);
                    vis[j]=1;
                }
            }
        }
    }
}
int st[N];
bool dijkstra(){
    for(int i=1;i<=n;i++){
        dist[i]=inf;
        st[i]=0;
        info[i]=0;
    }
    info[S]=inf;
    dist[S]=0;
    priority_queue<pii,vector<pii>,greater<pii>> que;
    que.push({0,S});
    while(que.size()){
        pii to =que.top();que.pop();
        int u=to.second;
        if(st[u]) continue;
        st[u]=1;
        for(int i=q[u];i!=-1;i=ne[i]){
            if(!w[i]) continue;
            int j=e[i];
            int zzz=v[i]+h[u]-h[j];
            if(dist[j]>dist[u]+v[i]+h[u]-h[j]){
                dist[j]=dist[u]+v[i]+h[u]-h[j];
                pre[j]=i;
                que.push({dist[j],j});
                info[j]=min(info[u],w[i]);
            }
        }
    }
    for(int i=1;i<=n;i++){
        dist[i]=dist[i]+h[i]-h[S];
    }
    return info[T]>0;
}
void ek(){
    while(dijkstra()){
        int t=info[T];
        flow+=t;fee+=dist[T]*t;
        for(int i=T;i!=S;i=e[pre[i]^1]){
            w[pre[i]]-=t;
            w[pre[i]^1]+=t;
        }
        for(int i=1;i<=n;i++){
            dist[i]=dist[i]-h[i]+h[S];
            h[i]+=dist[i];
        }
    }
}
signed main(){
    ios::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
    cin>>n>>m>>S>>T;
    for(int i=1;i<=n;i++) q[i]=-1;
    for(int i=1;i<=m;i++){
        int a,b,c,d;cin>>a>>b>>c>>d;
        add(a,b,c,d);
    }
    spfa();
    ek();
    cout<<flow<<' '<<fee;
    return 0;
}
```