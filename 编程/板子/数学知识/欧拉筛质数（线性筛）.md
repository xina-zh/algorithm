```
void get_primes(){
    //外层从2~n迭代，因为这毕竟算的是1~n中质数的个数，而不是某个数是不是质数的判定
    for(int i=2;i<=n;i++){
        if(!st[i]) {
	        primes[cnt++]=i;
	        st[i]=i;//质数最小质因子是自己
	    }
        for(int j=0;primes[j]<=n/i;j++){//primes[j]<=n/i:
            st[primes[j]*i]=primes[j];//用最小质因子去筛合数,存最小的质数
            if(i%primes[j]==0) break;
        }
    }
}
```